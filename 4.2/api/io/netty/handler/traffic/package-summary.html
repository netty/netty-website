<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) on Mon Dec 15 15:33:56 CET 2025 -->
<title>io.netty.handler.traffic (Netty API Reference (4.2.9.Final))</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-12-15">
<meta name="description" content="declaration: package: io.netty.handler.traffic">
<meta name="generator" content="javadoc/PackageWriter">
<meta name="keywords" content="io.netty.handler.traffic package">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html" class="current-selection">io.netty.handler.traffic</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents</div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#class-summary" tabindex="0">Classes and Interfaces</a></li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<div class="header">
<h1 title="Package io.netty.handler.traffic" class="title">Package io.netty.handler.traffic</h1>
</div>
<hr>
<div class="horizontal-scroll">
<div class="package-signature">package <span class="element-name">io.netty.handler.traffic</span></div>
<section class="package-description" id="package-description">
<div class="block">Implementation of a Traffic Shaping Handler and Dynamic Statistics.

<p>The main goal of this package is to allow you to shape the traffic (bandwidth limitation),
but also to get statistics on how many bytes are read or written. Both functions can
be active or inactive (traffic or statistics).</p>

<p>Two classes implement this behavior:
<ul>
<li> <tt><a href="TrafficCounter.html" title="class in io.netty.handler.traffic"><code>TrafficCounter</code></a></tt>: this class implements the counters needed by the
handlers.  It can be accessed to get some extra information like the read or write bytes since last check,
the read and write bandwidth from last check...</li>

<li> <tt><a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>AbstractTrafficShapingHandler</code></a></tt>: this abstract class implements
the kernel of traffic shaping. It could be extended to fit your needs. Two classes are proposed as default
implementations: see <a href="ChannelTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>ChannelTrafficShapingHandler</code></a> and
<a href="GlobalTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>GlobalTrafficShapingHandler</code></a> respectively for Channel traffic shaping and
global traffic shaping.</li>
</ul></p>

<p>Both inbound and outbound traffic can be shaped independently.  This is done by either passing in
the desired limiting values to the constructors of both the Channel and Global traffic shaping handlers,
or by calling the <tt>configure</tt> method on the <a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>AbstractTrafficShapingHandler</code></a>.
A value of 0 for either parameter indicates that there should be no limitation.  This allows you to monitor the
incoming and outgoing traffic without shaping.</p>

<p>To activate or deactivate the statistics, you can adjust the delay to a low (suggested not less than 200ms
for efficiency reasons) or a high value (let say 24H in millisecond is huge enough to not get the problem)
or even using <tt>0</tt> which means no computation will be done.</p>

<p>If you want to do anything with these statistics, just override the <tt>doAccounting</tt> method.<br>
This interval can be changed either from the method <tt>configure</tt>
in <a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>AbstractTrafficShapingHandler</code></a> or directly using the method <tt>configure</tt>
of <a href="TrafficCounter.html" title="class in io.netty.handler.traffic"><code>TrafficCounter</code></a>.</p>

<p>Note that a new <a href="ChannelTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>ChannelTrafficShapingHandler</code></a> must be created
for each new channel, but only one <a href="GlobalTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>GlobalTrafficShapingHandler</code></a> must be created
for all channels.</p>

<p>Note also that you can create different GlobalTrafficShapingHandler if you want to separate classes of
channels (for instance either from business point of view or from bind address point of view).</p></div>
</section>
</div>
<section class="summary">
<ul class="summary-list">
<li>
<div id="class-summary">
<div class="caption"><span>Classes</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic">AbstractTrafficShapingHandler</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">AbstractTrafficShapingHandler allows to limit the global bandwidth
(see <a href="GlobalTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>GlobalTrafficShapingHandler</code></a>) or per session
bandwidth (see <a href="ChannelTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>ChannelTrafficShapingHandler</code></a>), as traffic shaping.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ChannelTrafficShapingHandler.html" title="class in io.netty.handler.traffic">ChannelTrafficShapingHandler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">This implementation of the <a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>AbstractTrafficShapingHandler</code></a> is for channel
traffic shaping, that is to say a per channel limitation of the bandwidth.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="GlobalChannelTrafficCounter.html" title="class in io.netty.handler.traffic">GlobalChannelTrafficCounter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Version for <a href="GlobalChannelTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>GlobalChannelTrafficShapingHandler</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="GlobalChannelTrafficShapingHandler.html" title="class in io.netty.handler.traffic">GlobalChannelTrafficShapingHandler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">This implementation of the <a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>AbstractTrafficShapingHandler</code></a> is for global
and per channel traffic shaping, that is to say a global limitation of the bandwidth, whatever
the number of opened channels and a per channel limitation of the bandwidth.<br><br>
This version shall not be in the same pipeline than other TrafficShapingHandler.<br><br>

The general use should be as follow:<br>

Create your unique GlobalChannelTrafficShapingHandler like:<br><br>
<tt>GlobalChannelTrafficShapingHandler myHandler = new GlobalChannelTrafficShapingHandler(executor);</tt><br><br>
The executor could be the underlying IO worker pool<br>
<tt>pipeline.addLast(myHandler);</tt><br><br>

<b>Note that this handler has a Pipeline Coverage of "all" which means only one such handler must be created
and shared among all channels as the counter must be shared among all channels.</b><br><br>

Other arguments can be passed like write or read limitation (in bytes/s where 0 means no limitation)
or the check interval (in millisecond) that represents the delay between two computations of the
bandwidth and so the call back of the doAccounting method (0 means no accounting at all).<br>
Note that as this is a fusion of both Global and Channel Traffic Shaping, limits are in 2 sets,
respectively Global and Channel.<br><br>

A value of 0 means no accounting for checkInterval.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="GlobalTrafficShapingHandler.html" title="class in io.netty.handler.traffic">GlobalTrafficShapingHandler</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">This implementation of the <a href="AbstractTrafficShapingHandler.html" title="class in io.netty.handler.traffic"><code>AbstractTrafficShapingHandler</code></a> is for global
traffic shaping, that is to say a global limitation of the bandwidth, whatever
the number of opened channels.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TrafficCounter.html" title="class in io.netty.handler.traffic">TrafficCounter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Counts the number of read and written bytes for rate-limiting traffic.</div>
</div>
</div>
</div>
</li>
</ul>
</section>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2008&#x2013;2025 <a href="https://netty.io/">The Netty Project</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
